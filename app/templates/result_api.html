{% extends 'base_template.html' %}

{% block title %}
Learn Flow - Dive Deep Into Learning
{% endblock %}

{% block content %}
<div>
    <p class="recommend bold">API Recommendations</p>
</div>

<div class="api-table">
    <table class="result-table">
    <thead>
        <tr>
            <th>#</th>
            <th>Course Title</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        {% if type == "error" %}
            <tr><td>
                <p>Invalid input.<br><br>
                    Please use educational keywords. Examples:
                    <ul>
                        <li>&nbsp;&nbsp; - Machine Learning</li>
                        <li>&nbsp;&nbsp; - Data Structures</li>
                        <li>&nbsp;&nbsp; - C++</li>
                        <li>&nbsp;&nbsp; - Python</li>
                        <li>&nbsp;&nbsp; - Java</li>
                    </ul>
                </p>
            </td></tr>
        {% else %}
            {% for choice in choices %}
            <tr>
                <td>{{ loop.index }}</td>
                {% if choice[0] in favorites %}
                    <td><a href="{{ url_for('external', choice=choice[1]|urlencode) }}" target="_blank"
                           style="color: lightslategray;">{{ choice[0] }}</a></td>
                    </td>
                {% else %}
                    <td><a href="{{ url_for('external', choice=choice[1]|urlencode) }}" target="_blank">{{ choice[0] }}</a></td>
                    <td class="save">
                        <form action="{{ url_for('favorites') }}" class="form" method="POST">
                            <input type="hidden" value="{{ choice }}" name="listOption">
                            <button type="submit" class="favorite-button">Save</button>
                        </form>
                    </td>
                {% endif %}
                </td>
            </tr>
            {% endfor %}
        {% endif %}
    </tbody>
    </table>
</div>


<div><p class="recommend bold">Other suggestions</p></div>
<div class="api-table">
    <table class="result-table">
    <thead>
        <tr>
            <th>#</th>
            <th>Course Title</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
    {% for choice in suggestions %}
        <tr>
            <td>{{ loop.index }}</td>
            {% if choice[0] in favorites %}
                <td><a href="{{ url_for('external', choice=choice[1]|urlencode) }}" target="_blank"
                       style="color: lightslategray;">{{ choice[0] }}</a></td>
                </td>
            {% else %}
                <td><a href="{{ url_for('external', choice=choice[1]|urlencode) }}" target="_blank">{{ choice[0] }}</a></td>
                <td class="save">
                    <form action="{{ url_for('favorites') }}" class="form" method="POST">
                        <input type="hidden" value="{{ choice }}" name="listOption">
                        <button type="submit" class="favorite-button">Save</button>
                    </form>
                </td>
            {% endif %}
            </td>
        </tr>
    {% endfor %}
    </tbody>
    </table>
</div>
{% endblock %}
